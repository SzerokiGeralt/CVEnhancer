<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CVEnhancer.DataPage"
             Title="Moje Dane">

    <Grid RowDefinitions="Auto,*">
        <!-- Zakładki -->
        <HorizontalStackLayout Grid.Row="0" Spacing="10" Padding="10">
            <Button Text="Dane Osobowe" Clicked="OnPersonalDataClicked" x:Name="PersonalDataTab" />
            <Button Text="Praca" Clicked="OnWorkClicked" x:Name="WorkTab" />
            <Button Text="Edukacja" Clicked="OnEducationClicked" x:Name="EducationTab" />
            <Button Text="Projekty" Clicked="OnProjectsClicked" x:Name="ProjectsTab" />
        </HorizontalStackLayout>

        <!-- Zawartość zakładek -->
        <ScrollView Grid.Row="1" Padding="20">
            <VerticalStackLayout Spacing="15" x:Name="ContentArea">
                
                <!-- Dane Osobowe -->
                <VerticalStackLayout x:Name="PersonalDataContent" Spacing="10">
                    <Label Text="Dane Osobowe" FontSize="24" />
                    <Entry x:Name="FirstNameEntry" Placeholder="Imię" />
                    <Entry x:Name="LastNameEntry" Placeholder="Nazwisko" />
                    <Entry x:Name="EmailEntry" Placeholder="Email" Keyboard="Email" />
                    <Entry x:Name="PhoneEntry" Placeholder="Telefon" Keyboard="Telephone" />
                    <Entry x:Name="LinkedInEntry" Placeholder="LinkedIn URL" />
                    <Entry x:Name="GitHubEntry" Placeholder="GitHub URL" />
                    <Entry x:Name="PortfolioEntry" Placeholder="Portfolio URL" />
                    <Entry x:Name="JobTitleEntry" Placeholder="Stanowisko" />
                    <Editor x:Name="SummaryEditor" Placeholder="Podsumowanie profesjonalne" HeightRequest="100" />
                    <Button Text="Zapisz" Clicked="OnSavePersonalDataClicked" />
                </VerticalStackLayout>


                <!-- Praca -->
                <VerticalStackLayout x:Name="WorkContent" Spacing="10" IsVisible="False">
                    <Label Text="Doświadczenie Zawodowe" FontSize="24" />

                    <Entry x:Name="CompanyEntry" Placeholder="Nazwa firmy" />
                    <Entry x:Name="WorkJobTitleEntry" Placeholder="Stanowisko" />

                    <Label Text="Data rozpoczęcia" />
                    <DatePicker x:Name="StartDatePicker" />

                    <Label Text="Data zakończenia (opcjonalnie)" />
                    <DatePicker x:Name="EndDatePicker" />

                    <Editor x:Name="WorkDescriptionEditor" Placeholder="Opis obowiązków" HeightRequest="100" />

                    <Button Text="Dodaj wpis" Clicked="OnAddWorkExperienceClicked" />

                    <Label Text="Lista doświadczeń:" FontSize="18" Margin="0,20,0,10" />

                    <CollectionView x:Name="WorkExperienceList" HeightRequest="200">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame Padding="10" Margin="0,0,0,10">
                                    <VerticalStackLayout Spacing="5">
                                        <Label Text="{Binding CompanyName}" FontAttributes="Bold" />
                                        <Label Text="{Binding JobTitle}" />
                                        <Label Text="{Binding DateRangeText}" FontSize="12" />
                                        <Label Text="{Binding Description}" FontSize="12" LineBreakMode="TailTruncation" MaxLines="3" />

                                        <Button Text="Usuń"
                                CommandParameter="{Binding WorkExperienceId}"
                                Clicked="OnDeleteWorkExperienceClicked" />
                                    </VerticalStackLayout>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>

                <!-- Edukacja -->
                <VerticalStackLayout x:Name="EducationContent" Spacing="10" IsVisible="False">
                    <Label Text="Edukacja" FontSize="24" />
                    <Entry Placeholder="Nazwa uczelni" />
                    <Entry Placeholder="Kierunek studiów" />
                    <Entry Placeholder="Stopień" />
                    <DatePicker />
                    <Label Text="Data rozpoczęcia" />
                    <DatePicker />
                    <Label Text="Data zakończenia (opcjonalnie)" />
                    <Button Text="Dodaj wpis" />
                    <Label Text="Lista edukacji:" FontSize="18" Margin="0,20,0,10" />
                    <CollectionView x:Name="EducationList" HeightRequest="200" />
                </VerticalStackLayout>

                <!-- Projekty -->
                <VerticalStackLayout x:Name="ProjectsContent" Spacing="10" IsVisible="False">
                    <Label Text="Projekty" FontSize="24" />
                    <Entry Placeholder="Nazwa projektu" />
                    <Editor Placeholder="Opis projektu" HeightRequest="100" />
                    <Entry Placeholder="URL projektu (opcjonalnie)" />
                    <Button Text="Dodaj projekt" />
                    <Label Text="Lista projektów:" FontSize="18" Margin="0,20,0,10" />
                    <CollectionView x:Name="ProjectsList" HeightRequest="200" />
                </VerticalStackLayout>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>

</ContentPage>